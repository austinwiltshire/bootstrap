---
# assumes yadm has already been run. my dotfiles assume directory
# structure seend below requires python
-
    name: Grab vundle for vim
    git:
        repo: https://github.com/VundleVim/Vundle.vim.git
        dest: /home/vagrant/.vim/bundle/Vundle.vim
        version: master
-
    name: Pull in all vim plugins
    command: vim +PluginInstall +qall
    args:
        creates: /home/vagrant/.vim/bundle/ack.vim
-
    name: Install cmake (needed by youcompleteme) and last pass
    # (cmake3 for old ubuntus. switch to just cmake for new ubuntus)
    apt:
        name: cmake3
        state: present
-
    name: Install youcomplete me with clang completion
    command: python3.4 ./install.py --clang-completer
    args:
        chdir: ~/.vim/bundle/YouCompleteMe
        creates: ~/.vim/bundle/YouCompleteMe/third_party/ycmd/ycm_core.so
    become_user: "vagrant"
        
-
    name: make undo, backup and swap directories for vim
    file:
        path: "{{ item }}"
        state: directory
    with_items:
        - "/home/vagrant/.vim/undo"
        - "/home/vagrant/.vim/backup"
        - "/home/vagrant/.vim/swap"
    become_user: "vagrant"
